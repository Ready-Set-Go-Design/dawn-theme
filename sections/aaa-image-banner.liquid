<section class="h-screen bg-gray-200 flex items-center relative {{ section.settings.space_before_section }}">
  <div class="absolute top-0 left-0 flex flex-col h-full w-full md:flex-row">
    {% if section.settings.image_1 == blank and section.settings.image_2 == blank %}
      <div class="bg-light1 h-full w-full flex flex-col items-center justify-center">
        {{ "collection-1" | placeholder_svg_tag: "" }}
        {{ "collection-2" | placeholder_svg_tag: "" }}
      </div>
      <div class="bg-light2 h-full w-full flex flex-col items-center justify-center">
        {{ "collection-3" | placeholder_svg_tag: "" }}
        {{ "collection-4" | placeholder_svg_tag: "" }}
      </div>
    {% else %}  
      {% for i in (1..2) %}
          {% assign image = "image_" | append: i %}
          {% if section.settings[image] %}
            <div class="h-full w-full flex flex-col items-center justify-center">
              <img class="h-full w-full object-cover"
              src="{{ section.settings[image] | img_url: '1500x' }}"
              srcset="
              {%- if section.settings[image].width >= 375 -%}{{ section.settings[image] | img_url: '375x' }} 375w,{%- endif -%}
              {%- if section.settings[image].width >= 750 -%}{{ section.settings[image] | img_url: '750x' }} 750w,{%- endif -%}
              {%- if section.settings[image].width >= 1100 -%}{{ section.settings[image] | img_url: '1100x' }} 1100w,{%- endif -%}
              {%- if section.settings[image].width >= 1500 -%}{{ section.settings[image] | img_url: '1500x' }} 1500w,{%- endif -%}
              {%- if section.settings[image].width >= 1780 -%}{{ section.settings[image] | img_url: '1780x' }} 1780w,{%- endif -%}
              {%- if section.settings[image].width >= 2000 -%}{{ section.settings[image] | img_url: '2000x' }} 2000w,{%- endif -%}
              {%- if section.settings[image].width >= 3000 -%}{{ section.settings[image] | img_url: '3000x' }} 3000w,{%- endif -%}
              {%- if section.settings[image].width >= 3840 -%}{{ section.settings[image] | img_url: '3840x' }} 3840w,{%- endif -%}"
              loading="lazy" 
              alt="{{ section.settings[image].alt | escape }}"
              width="{{ section.settings[image].width }}"
              height="{{ section.settings[image].width | divided_by: section.settings[image].aspect_ratio }}"
              >
            </div>
          {% endif %}
      {% endfor %}  
    {% endif %}
  </div>
  <div class="container relative">
    <div class="w-full bg-light1 mx-auto p-12 shadow-2xl md:w-10/12">
      <div class="">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'heading' %}
              <h2 class="text-4xl text-gray-900 py-2 md:text-6xl">
                {{ block.settings.heading | escape }}
              </h2>
            {% when 'subheading' %}
              <p class="text-lg text-dark-muted py-2 mb-4">
                {{ block.settings.subheading | escape }}
              </p>
            {% when 'button_text' %}
              <div class="flex {{ section.settings.button_alignment }}">
                <a href="" class="btn-primary">
                  {{ block.settings.button_text | escape }}
                </a>
              </div>
          {% endcase %}
        {% endfor %}
      </div>
    </div>    
  </div>
</section>

  {% schema %}
  {
    "name": "AAA Image Banner",
    "tag": "section",
    "settings": [
      {
        "type": "image_picker",
        "id": "image_1",
        "label": "t:sections.image-banner.settings.image.label"
      },
      {
        "type": "image_picker",
        "id": "image_2",
        "label": "t:sections.image-banner.settings.image_2.label"
      },
      {
        "type": "radio",
        "id": "heading_alignment",
        "label": "Heading alignment",
        "options": [
          {
            "value": "text-left",
            "label": "Left"
          },
          {
            "value": "text-center",
            "label": "Center"
          }
        ],
        "default": "text-left"
      },
      {
        "type": "radio",
        "id": "button_alignment",
        "label": "Button alignment",
        "options": [
          {
            "value": "justify-start",
            "label": "Left"
          },
          {
            "value": "justify-center",
            "label": "Center"
          },
          {
            "value": "justify-end",
            "label": "Right"
          }
        ],
        "default": "justify-start"
      },
      {
        "type": "radio",
        "id": "space_before_section",
        "label": "Add space before section?",
        "options": [
          {
            "value": "mt-16",
            "label": "Yes"
          },
          {
            "value": "mt-0",
            "label": "No"
          }
        ],
        "default": "mt-0"
      }
    ],
    "max_blocks": 3,
    "blocks": [{
      "type": "heading",
      "name": "Heading",
      "settings": [{
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Now that's a catchy heading"
      }]
    },
    {
      "type": "subheading",
      "name": "Subheading",
      "settings": [{
        "type": "text",
        "id": "subheading",
        "label": "Subheading",
        "default": "And then tell us all about it"
      }]
    },
    {
      "type": "button_text",
      "name": "Button text",
      "settings": [{
        "type": "text",
        "id": "button_text",
        "label": "Button text",
        "default": "Shop now"
      }]
    }],
    "presets": [{
      "name": "AAA Image Banner",
      "blocks": [{
        "type": "heading",
        "type": "subheading",
        "type": "button_text"
      }]
    }]
  }

  {% endschema %}
  