{%- liquid
  if section.settings.background == "light1"
    assign text_class_default = "text-dark-default" 
    assign text_class_muted = "text-dark-muted" 
    assign bg_class = "bg-light1"
  elsif section.settings.background == "light2"
    assign text_class_default = "text-dark-default" 
    assign text_class_muted = "text-dark-muted" 
    assign bg_class = "bg-light2"
  elsif section.settings.background == "dark1"
    assign text_class_default = "text-light-default" 
    assign text_class_muted = "text-light-muted" 
    assign bg_class = "bg-dark1"
  elsif section.settings.background == "dark2"
    assign text_class_default = "text-light-default" 
    assign text_class_muted = "text-light-muted" 
    assign bg_class = "bg-dark2"
  endif 
-%}

<div class="text-center {{ bg_class }}">
<p class="p-2 text-base {{ text_class_default }}">This is the announcement title! {{ section.settings.background }}</p>
<p class="p-2 text-base {{ text_class_muted }}">This is the sub title! {{ section.settings.background }}</p>
  {{ section.blocks.size }}
  {%- for block in section.blocks -%}
    <div class="stuff" {{ block.shopify_attributes }}>
      <span>{{ block.settings.text | escape }}</span>
    </div>

    {%- if block.settings.image != blank -%}
      <img
        src="{{ block.settings.image | img_url: '1500x' }}"
        alt="{{ block.settings.image.alt | escape }}"
        loading="lazy"
        width="{{ block.settings.image.width }}"
        height="{{ block.settings.image.height }}"
        class="w-full h-24 object-cover"
      >
    {%- endif -%}
    
  {%- endfor -%}
  
</div>

  {% schema %}
  {
    "name": "RSG Announcement",
    "tag": "section",
    "class": "border-b",
    "settings": [
        {
          "type": "radio",
          "id": "dismiss",
          "label": "Dissmissable",
          "options": [
            {
              "value": "yes",
              "label": "Yes"
            },
            {
              "value": "no",
              "label": "No"
            }
          ],
          "default": "yes"
        },
        {
          "type": "select",
          "id": "background",
          "label": "Background",
          "options": [
            {
              "value": "light1",
              "label": "Light 1"
            },
            {
              "value": "light2",
              "label": "Light 2"
            },
            {
              "value": "dark1",
              "label": "Dark 1"
            },
            {
              "value": "dark2",
              "label": "Dark 2"
            }
          ],
          "default": "dark1"
        }
    ],
    "presets": [
      {
          "name": "RSG Announcement"
      }
    ],
    "max_blocks": 3,
    "blocks": [
    {
      "type": "announcement",
      "name": "RSG Announcement",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "t:sections.announcement-bar.blocks.announcement.settings.text.label",
          "default": "Welcome to our store"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "t:sections.image-banner.settings.image.label"
        }
      ]
    }
  ]
}

  {% endschema %}
  